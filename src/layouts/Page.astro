---
import FormattedDate from '@/components/FormattedDate.astro';
import SubNavbar from '@/components/SubNavbar.astro';
import Layout from '@/layouts/Base.astro';
import '@/styles/prose.css';

const { title, description, url } = Astro.props.frontmatter;
const { heroImage } = Astro.props.frontmatter;
const updatedDate = new Date(
  Astro.props.frontmatter.updatedDate || Astro.props.frontmatter.pubDate,
);
---

<Layout title={title} description={description}>
  <SubNavbar slot="subnav" />
  <article class="prose">
    <section class="prose-title">
      <div class="title">
        <h1>{title}</h1>
      </div>
    </section>
    <section class="hero-image">
      {heroImage && <img width={1020} height={510} src={heroImage} alt="" />}
    </section>
    <section class="prose-info">
      {
        updatedDate && (
          <div class="last-updated-on">
            Last updated on <FormattedDate date={updatedDate} />
          </div>
        )
      }
    </section>
    <section class="prose">
      <slot />
    </section>
  </article>
</Layout>
