---
import SubNavbar from '@/components/SubNavbar.astro';
import PostList from '@/components/post/List.astro';
import Layout from '@/layouts/Base.astro';
import { loadAndFormatCollection } from '@/lib/utils.ts';

const pageTitle = 'Posts';
const pageDescription = 'Articles from makers in Roanoke.';

const posts = (await loadAndFormatCollection('posts')).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<Layout title={pageTitle} description={pageDescription}>
  <SubNavbar slot="subnav" links={[]} />

  <PostList posts={posts} />
</Layout>
